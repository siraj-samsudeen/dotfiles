# Dotfiles: allowlist approach — ignore everything (*), un-ignore (!) tracked files.
# Full audit & rationale: .claude/siraj-experiments/dotfiles-audit.md

# ── Ignore everything by default ──
*

# ── Shell ──
!.zshrc
!.zshenv
!.p10k.zsh

# ── Git ──
!.gitconfig   # identity, aliases, editor, credential helpers
!.gitignore   # global gitignore (hides .cfg bare repo db)
!.cfg-ignore  # this file

# ── Tool configs ──
!.config/
!.config/mise/
!.config/mise/config.toml
!RectangleConfig.json
!.psqlrc      # pspg pager, unicode borders
!.duckdbrc    # loads nanodbc ODBC extension
!.odbc.ini    # SQL Server DSN config (credentials in ~/.secrets)

# ── Claude Code ──
# Must un-ignore parent dirs first, then contents
!.claude/
!.claude/CLAUDE.md
!.claude/settings.json
!.claude/agents/
!.claude/agents/**
!.claude/commands/
!.claude/commands/**
!.claude/hooks/
!.claude/hooks/**
!.claude/skills/
!.claude/skills/**
!.claude/siraj-experiments/
!.claude/siraj-experiments/**

# ── Editor configs (VS Code = source, Cursor = symlinks) ──
# Must un-ignore each parent dir — git ignores children of ignored parents
!Library/
!Library/Application Support/
!Library/Application Support/Code/
!Library/Application Support/Code/User/
!Library/Application Support/Code/User/settings.json
!Library/Application Support/Code/User/keybindings.json
!Library/Application Support/Cursor/
!Library/Application Support/Cursor/User/
!Library/Application Support/Cursor/User/settings.json
!Library/Application Support/Cursor/User/keybindings.json

# ── Docs ──
!README.md
!setup.sh     # post-checkout install script

# ── Re-ignore junk inside un-ignored trees ──
.DS_Store
*.bak

# ── Intentionally NOT tracked ──
# .iterm2_shell_integration.zsh — managed by iTerm2, auto-updates
# .npmrc — contains ${NPM_TOKEN} reference, safe but not needed cross-machine
# .zprofile — just Homebrew boilerplate, re-added on install

# ── Secrets (NEVER track) ──
# .secrets — tokens, API keys, passwords (sourced in .zshrc)
# .odbc.ini credentials — moved to .secrets as ODBC_AFANS_UID/PWD
# .netrc — network credentials
# .ssh/ — SSH keys
# .aws/ — AWS credentials
# .streamlit/ — contains credentials.toml

# ── Histories (never track, machine-specific) ──
# .bash_history, .zsh_history, .zsh_sessions, .duckdb_history,
# .psql_history, .isql_history, .mariadb_history, .irb_history,
# .python_history, .Rhistory, .lesshst, .viminfo

# ── App data, caches, runtime (never track) ──
# IDE/editors: .vscode, .cursor, .aide, .windsurf, .kiro, .codeium, .codex
# AI tools: .amp, .gemini, .camel, .companion, .serena, .traycer
# Lang runtimes: .bun, .gem, .hex, .mix, .npm, .yarn, .volta, .rustup, .m2, .gradle
# Data/ML: .conda, .anaconda, .jupyter, .ipython, .matplotlib, .bamboolib, .mito
# Infra: .docker, .fly, .railway, .convex, .expo, .dbt, .dagster, .dlt, .rill, .sqlmesh
# System: .cache, .local, .Trash, .DS_Store, .CFUserTextEncoding, .gnupg, .terminfo
# Other: .claude.json, .claude-code-docs, .claude-monitor, .claude-worktrees
